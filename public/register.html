<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Register Account</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicon
		============================================ -->
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <!-- Google Fonts
		============================================ -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/bootstrap.min.css">
    <!-- font awesome CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/font-awesome.min.css">
    <!-- owl.carousel CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/owl.carousel.css">
    <link rel="stylesheet" href="admin-lib/css/owl.theme.css">
    <link rel="stylesheet" href="admin-lib/css/owl.transitions.css">
    <!-- animate CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/animate.css">
    <!-- normalize CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/normalize.css">
    <!-- mCustomScrollbar CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/scrollbar/jquery.mCustomScrollbar.min.css">
    <!-- wave CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/wave/waves.min.css">
    <!-- Notika icon CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/notika-custom-icon.css">
    <!-- main CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/main.css">
    <!-- style CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/style.css">
    <!-- responsive CSS
		============================================ -->
    <link rel="stylesheet" href="admin-lib/css/responsive.css">
    <!-- modernizr JS
		============================================ -->
    <script src="admin-lib/js/vendor/modernizr-2.8.3.min.js"></script>

    <!-- jquery
        ============================================ -->
    <script src="admin-lib/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="vendor/jquery/jquery.validate.min.js"></script>
    
    
    
    <script >
        jQuery(document).ready(function () {

            //Validate form and message
            // var pasReg = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,32}$/;
            var userReg = /^[A-Za-z0-9_\.]{4,32}$/;
            var pasReg = /^(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{6,32}$/;
            jQuery("#my_form").validate({
                rules: {
                    username: {
                        required: true,
                        minlength: 4,
                        maxlength: 32,
                        regex: userReg,
                        // remote: {
                        //     url: "/check_user_exists",
                        //     type: "post",
                        //     data: {
                        //       username: function() {
                        //         return jQuery( ".username" ).val();
                        //       }
                        //     }
                        // }
                    },
                    fullname: {
                        required: true
                    },
                    email: {
                        required: true,
                        email: true,
                        // remote: {
                        //     url: "/check_email_exists",
                        //     type: "post",
                        //     data: {
                        //       email: function() {
                        //         return jQuery( ".email" ).val();
                        //       }
                        //     }
                        // }
                    },
                    password: {
                        required: true,
                        minlength: 6,
                        maxlength: 32,
                        regex: pasReg
                    },
                    repassword: {
                        required: true,
                        minlength: 6,
                        maxlength: 32,
                        equalTo : "#password"
                    }
                },
                messages: {
                    username: {
                        required: "Please type username!",
                        regex: "Password required 4-32 character A-Z,a-z,0-9, _ and no whitespace",
                        remote: "username already in use!"
                    },
                    fullname: {
                        required: "Please type fullname!"
                    },
                    email: {
                        required: "Please enter your email address.",
                        email: "Please enter a valid email address.",
                        remote: "Email already in use!"
                    },
                    password: {
                        required: "Please type password!",
                        regex: "Password required 6-32 character at least 1 lower case, 1 upper case, 1 numeric, 1 non-word and no whitespace"
                    },
                    repassword: {
                        required: "Please re-type password!",
                        regex: "Password required 6-32 character at least 1 lower case, 1 upper case, 1 numeric, 1 non-word and no whitespace"
                    }
                },

                submitHandler : function (form) {
                    form.submit();
                    jQuery('#message').html("Register successful!");
                }
                
            });
            jQuery.validator.addMethod("regex", function (value, element, regexpr) {
                return regexpr.test(value);
            });


            //Check username exists and submit
            



        });


        
    </script>
    <!-- <script >
        jQuery(document).ready( function () {

            //Validate form and message
            // var pasReg = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,32}$/;
            var userReg = /^[A-Za-z0-9_\.]{4,32}$/;
            var pasReg = /^(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{6,32}$/;
            jQuery("#my_form").validate({
                rules: {
                    username: {
                        required: true,
                        minlength: 4,
                        maxlength: 32,
                        regex: userReg
                    },
                    fullname: {
                        required: true
                    },
                    email: {
                        required: true,
                        email: true
                    },
                    password: {
                        required: true,
                        minlength: 6,
                        maxlength: 32,
                        regex: pasReg
                    },
                    repassword: {
                        required: true,
                        minlength: 6,
                        maxlength: 32,
                        equalTo : "#password"
                    }
                },
                messages: {
                    username: {
                        required: "Please type username!",
                        regex: "Password required 4-32 character A-Z,a-z,0-9, _ and no whitespace"
                    },
                    fullname: {
                        required: "Please type fullname!"
                    },
                    password: {
                        required: "Please type password!",
                        regex: "Password required 6-32 character at least 1 lower case, 1 upper case, 1 numeric, 1 non-word and no whitespace"
                    },
                    repassword: {
                        required: "Please re-type password!",
                        regex: "Password required 6-32 character at least 1 lower case, 1 upper case, 1 numeric, 1 non-word and no whitespace"
                    }
                }
            });
            jQuery.validator.addMethod("regex", function (value, element, regexpr) {
                return regexpr.test(value);
            });


            //Check username exists and submit
            jQuery("#my_form").submit(function(event){
                event.preventDefault(); //prevent default action 
                var post_url = $(this).attr("action"); //get form action url
                var request_method = $(this).attr("method"); //get form GET/POST method
                var form_data = $(this).serialize(); //Encode form elements for submission
                
                jQuery.ajax({
                    url : post_url,
                    type: request_method,
                    data : form_data
                }).done(function(response){ 
                    console.log(typeof response.data[0] != "undefined");
                    if (typeof response.data[0] != "undefined") {
                        jQuery("#message").html("* User is exists, please choose other user!");
                    } else {
                        if(jQuery("input:empty").length != 0) {
                           //action if form valid
                           jQuery('#my_form').attr('action', '/register');
                           jQuery('#btn-register').click();
                           jQuery("#message").html("* Register Success! Please login!");
                           // jQuery("input").val("");
                           // jQuery('#my_form').attr('action', '/check_user_exists');
                        }
                    }
                        
                });
            });

            //poiter to input hide message
            jQuery("input").focus(function(){
                jQuery("#message").html("");
            });


        });



    </script> -->
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <!-- Login Register area Start-->
    <div class="login-content">
        
        <!-- Register -->
        <div class="nk-block toggled" id="l-register">
            <div class="nk-form">
                <form action="/register" method="POST" id="my_form">
                    
                    <h2>Register</h2>
                    <div class="input-group">
                        <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-support"></i></span>
                        <div class="nk-int-st">
                            <input type="text" class="form-control username" placeholder="Username" name="username">
                        </div>
                    </div>

                    <div class="input-group mg-t-15">
                        <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-mail"></i></span>
                        <div class="nk-int-st">
                            <input type="text" class="form-control" placeholder="Fullname" name="fullname">
                        </div>
                    </div>

                    <div class="input-group mg-t-15">
                        <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-mail"></i></span>
                        <div class="nk-int-st">
                            <input type="text" class="form-control email" placeholder="Email Address" name="email">
                        </div>
                    </div>

                    <div class="input-group mg-t-15">
                        <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-edit"></i></span>
                        <div class="nk-int-st">
                            <input type="password" class="form-control" placeholder="Password" name="password" id="password">
                        </div>
                    </div>

                    <div class="input-group mg-t-15">
                        <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-edit"></i></span>
                        <div class="nk-int-st">
                            <input type="password" class="form-control" placeholder="Retype Password" name="repassword">
                        </div>
                    </div>
                    <br><div id="message" style="color: red; height: 50px"></div>

                    <button class="btn btn-login btn-success btn-float"><i class="notika-icon notika-right-arrow"></i></button>
                    <!-- <a href="#l-login" data-ma-action="nk-login-switch" data-ma-block="#l-login" class="btn btn-login btn-success btn-float"><i class="notika-icon notika-right-arrow"></i></a> -->
                </form>
            </div>

            <div class="nk-navigation rg-ic-stl">
                <a href="login.html" data-ma-block="#l-login"><i class="notika-icon notika-right-arrow"></i> <span>Sign in</span></a>
                <a href="index.html" data-ma-block="#l-login"><i><</i> <span>Back</span></a>
            </div>
        </div>

    </div>
    <!-- Login Register area End-->
    
    <!-- bootstrap JS
		============================================ -->
    <script src="admin-lib/js/bootstrap.min.js"></script>
    <!-- wow JS
		============================================ -->
    <script src="admin-lib/js/wow.min.js"></script>
    <!-- price-slider JS
		============================================ -->
    <script src="admin-lib/js/jquery-price-slider.js"></script>
    <!-- owl.carousel JS
		============================================ -->
    <script src="admin-lib/js/owl.carousel.min.js"></script>
    <!-- scrollUp JS
		============================================ -->
    <script src="admin-lib/js/jquery.scrollUp.min.js"></script>
    <!-- meanmenu JS
		============================================ -->
    <script src="admin-lib/js/meanmenu/jquery.meanmenu.js"></script>
    <!-- counterup JS
		============================================ -->
    <script src="admin-lib/js/counterup/jquery.counterup.min.js"></script>
    <script src="admin-lib/js/counterup/waypoints.min.js"></script>
    <script src="admin-lib/js/counterup/counterup-active.js"></script>
    <!-- mCustomScrollbar JS
		============================================ -->
    <script src="admin-lib/js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <!-- sparkline JS
		============================================ -->
    <script src="admin-lib/js/sparkline/jquery.sparkline.min.js"></script>
    <script src="admin-lib/js/sparkline/sparkline-active.js"></script>
    <!-- flot JS
		============================================ -->
    <script src="admin-lib/js/flot/jquery.flot.js"></script>
    <script src="admin-lib/js/flot/jquery.flot.resize.js"></script>
    <script src="admin-lib/js/flot/flot-active.js"></script>
    <!-- knob JS
		============================================ -->
    <script src="admin-lib/js/knob/jquery.knob.js"></script>
    <script src="admin-lib/js/knob/jquery.appear.js"></script>
    <script src="admin-lib/js/knob/knob-active.js"></script>
    <!--  Chat JS
		============================================ -->
    <script src="admin-lib/js/chat/jquery.chat.js"></script>
    <!--  wave JS
		============================================ -->
    <script src="admin-lib/js/wave/waves.min.js"></script>
    <script src="admin-lib/js/wave/wave-active.js"></script>
    <!-- icheck JS
		============================================ -->
    <script src="admin-lib/js/icheck/icheck.min.js"></script>
    <script src="admin-lib/js/icheck/icheck-active.js"></script>
    <!--  todo JS
		============================================ -->
    <script src="admin-lib/js/todo/jquery.todo.js"></script>
    <!-- Login JS
		============================================ -->
    <script src="admin-lib/js/login/login-action.js"></script>
    <!-- plugins JS
		============================================ -->
    <script src="admin-lib/js/plugins.js"></script>
    <!-- main JS
		============================================ -->
    <script src="admin-lib/js/main.js"></script>
</body>

</html>